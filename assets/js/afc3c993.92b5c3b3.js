"use strict";(self.webpackChunkharmonizer_docs=self.webpackChunkharmonizer_docs||[]).push([[356],{6837:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"API/harmonize","title":"harmonize Endpoint","description":"The /harmonize endpoint is a core part of OMSIM\u2019s API, enabling automated semantic alignment of user-supplied datasets or data dictionaries. It uses ontology-aware natural language processing (NLP) models to map variable names to standardized biomedical terms. This facilitates cross-study data integration, meta-analysis, and downstream harmonization workflows.","source":"@site/docs/API/harmonize.md","sourceDirName":"API","slug":"/API/harmonize","permalink":"/omsim-documentation/API/harmonize","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"harmonize","title":"harmonize Endpoint","sidebar_label":"harmonize","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/omsim-documentation/API/overview"},"next":{"title":"match","permalink":"/omsim-documentation/API/match"}}');var a=i(4848),t=i(8453);const s={id:"harmonize",title:"harmonize Endpoint",sidebar_label:"harmonize",sidebar_position:5},r="Dataset Harmonization Endpoint",d={},l=[{value:"Method",id:"method",level:2},{value:"Headers",id:"headers",level:2},{value:"Request Body",id:"request-body",level:2},{value:"Option 1: Harmonize a list of column names",id:"option-1-harmonize-a-list-of-column-names",level:4},{value:"Option 2: Harmonize an entire file (e.g., data dictionary)",id:"option-2-harmonize-an-entire-file-eg-data-dictionary",level:4},{value:"Sample Response",id:"sample-response",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"dataset-harmonization-endpoint",children:"Dataset Harmonization Endpoint"})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"/harmonize"})," endpoint is a core part of OMSIM\u2019s API, enabling automated semantic alignment of user-supplied datasets or data dictionaries. It uses ontology-aware natural language processing (NLP) models to map variable names to standardized biomedical terms. This facilitates cross-study data integration, meta-analysis, and downstream harmonization workflows."]}),"\n",(0,a.jsx)(n.p,{children:"This endpoint supports harmonization of either:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"A list of raw variable names (as an array), or"}),"\n",(0,a.jsx)(n.li,{children:"A complete data dictionary or dataset file (uploaded in base64-encoded format)"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"It\u2019s particularly useful in research consortia, data coordination centers, or any multi-institution project requiring the reconciliation of inconsistent variable naming across heterogeneous sources."}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"method",children:"Method"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-http",children:"POST /harmonize\n"})}),"\n",(0,a.jsx)(n.h2,{id:"headers",children:"Headers"}),"\n",(0,a.jsx)(n.p,{children:"All requests to this endpoint must include the following headers:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Content-Type: application/json\nAuthorization: Bearer <your_token>\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Content-Type: Required. Must be set to application/json."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Authorization: Required. Include your API token as a Bearer token"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"request-body",children:"Request Body"}),"\n",(0,a.jsx)(n.p,{children:"You can use one of the following payload formats depending on your use case:"}),"\n",(0,a.jsx)(n.h4,{id:"option-1-harmonize-a-list-of-column-names",children:"Option 1: Harmonize a list of column names"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'{\n  "columns": ["Age", "Sex", "Diagnosis Date", "Weight"]\n}\n'})}),"\n",(0,a.jsx)(n.h4,{id:"option-2-harmonize-an-entire-file-eg-data-dictionary",children:"Option 2: Harmonize an entire file (e.g., data dictionary)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'{\n  "file_name": "my_dataset_dictionary.csv",\n  "file_content_base64": "U29tZV9zYW1wbGVfYmFzZTY0X2VuY29kZWQgZGF0YQ=="\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"The file should be encoded in base64 before submission. You may use tools like base64 CLI (Unix), Python, or R to generate this encoding."}),"\n",(0,a.jsx)(n.h2,{id:"sample-response",children:"Sample Response"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'{\n  "harmonized_columns": [\n    {\n      "original": "Age",\n      "mapped_term": "age_in_years",\n      "ontology": "SNOMED CT",\n      "score": 0.96\n    },\n    {\n      "original": "Sex",\n      "mapped_term": "biological_sex",\n      "ontology": "HPO",\n      "score": 0.91\n    },\n    {\n      "original": "Weight",\n      "mapped_term": "body_weight",\n      "ontology": "LOINC",\n      "score": 0.88\n    }\n  ],\n  "summary": {\n    "total_variables": 4,\n    "matched": 3,\n    "unmatched": ["Diagnosis Date"]\n  }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>r});var o=i(6540);const a={},t=o.createContext(a);function s(e){const n=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);